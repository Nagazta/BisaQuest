
.d-item {
  cursor: grab;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.25));
  transition:
    filter     0.15s ease,
    opacity    0.2s  ease,
    transform  0.2s  cubic-bezier(0.34, 1.56, 0.64, 1);
  /* width driven by the card inside */
  width: fit-content;
}

.d-item__card {
  display:         flex;
  flex-direction:  column;
  align-items:     center;
  gap:             6px;
  padding:         10px 14px 8px;
  background:      #fffef5;
  border:          3px solid #2d2d2d;
  border-radius:   16px;
  min-width:       80px;
  box-shadow:
    0  4px  0 #2d2d2d,      /* hard bottom shadow — chunky toy feel */
    inset 0 1px 0 rgba(255,255,255,0.9);
  transition:
    background  0.15s ease,
    box-shadow  0.15s ease,
    transform   0.15s ease;
}

/* ── Image placeholder (remove when real assets arrive) ─────── */
.d-item__image-placeholder {
  width:           56px;
  height:          56px;
  border-radius:   10px;
  background:      linear-gradient(135deg, #fde68a 0%, #fbbf24 100%);
  border:          2px solid #2d2d2d;
  display:         flex;
  align-items:     center;
  justify-content: center;
  font-size:       28px;
  line-height:     1;
  flex-shrink:     0;
}

/* ── Label ──────────────────────────────────────────────────── */
.d-item__label {
  font-family:    'Fredoka One', 'Nunito', 'Comic Sans MS', cursive;
  font-size:      13px;
  font-weight:    700;
  color:          #1a1a1a;
  letter-spacing: 0.3px;
  text-align:     center;
  white-space:    nowrap;
}

/* ── Correct badge ──────────────────────────────────────────── */
.d-item__badge {
  position:        absolute;
  top:             -10px;
  right:           -10px;
  width:           26px;
  height:          26px;
  border-radius:   50%;
  background:      #22c55e;
  border:          2px solid #fff;
  box-shadow:      0 2px 6px rgba(0,0,0,0.25);
  display:         flex;
  align-items:     center;
  justify-content: center;
  font-size:       13px;
  color:           #fff;
  font-weight:     900;
  animation:       badge-pop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* ── State: hovering (before drag starts) ───────────────────── */
.d-item:not(.d-item--correct):hover .d-item__card {
  background:   #fff9e6;
  box-shadow:
    0 6px 0 #2d2d2d,
    inset 0 1px 0 rgba(255,255,255,0.9);
  transform:    translateY(-2px);
}

/* ── State: actively dragging ───────────────────────────────── */
.d-item--dragging {
  cursor:  grabbing;
  filter:  drop-shadow(0 12px 20px rgba(0, 0, 0, 0.4));
  z-index: 999;
}

.d-item--dragging .d-item__card {
  background: #fff9e6;
  transform:  rotate(-4deg) scale(1.08);
  box-shadow:
    0 8px 0 #2d2d2d,
    inset 0 1px 0 rgba(255,255,255,0.9);
}

/* ── State: correctly placed ────────────────────────────────── */
.d-item--correct {
  cursor:  default;
  filter:  drop-shadow(0 2px 4px rgba(34, 197, 94, 0.35));
  opacity: 0.92;
}

.d-item--correct .d-item__card {
  background:   #f0fdf4;
  border-color: #22c55e;
  box-shadow:
    0 4px 0 #16a34a,
    inset 0 1px 0 rgba(255,255,255,0.9);
}

.d-item--correct .d-item__image-placeholder {
  background: linear-gradient(135deg, #bbf7d0 0%, #4ade80 100%);
  border-color: #22c55e;
}

/* ── State: wrong placement (flash red before bounce back) ──── */
.d-item--wrong .d-item__card {
  background:   #fef2f2;
  border-color: #ef4444;
  box-shadow:
    0 4px 0 #dc2626,
    inset 0 1px 0 rgba(255,255,255,0.9);
}

/* ── Animation: shake on wrong drop ────────────────────────── */
.d-item--shake {
  animation: item-shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

/* ── Animation: pop in on load ──────────────────────────────── */
.d-item {
  animation: item-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* stagger each item's entrance by display order */
.d-item:nth-child(1) { animation-delay: 0.05s; }
.d-item:nth-child(2) { animation-delay: 0.12s; }
.d-item:nth-child(3) { animation-delay: 0.19s; }
.d-item:nth-child(4) { animation-delay: 0.26s; }
.d-item:nth-child(5) { animation-delay: 0.33s; }
.d-item:nth-child(6) { animation-delay: 0.40s; }

/* ── Keyframes ──────────────────────────────────────────────── */
@keyframes item-enter {
  from {
    opacity:   0;
    transform: translate(-50%, -50%) scale(0.5) rotate(-8deg);
  }
  to {
    opacity:   1;
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
  }
}

@keyframes item-shake {
  0%,  100% { transform: translate(-50%, -50%) rotate(0deg);   }
  15%        { transform: translate(-50%, -50%) rotate(-8deg) translateX(-4px); }
  30%        { transform: translate(-50%, -50%) rotate( 6deg) translateX( 4px); }
  45%        { transform: translate(-50%, -50%) rotate(-5deg) translateX(-3px); }
  60%        { transform: translate(-50%, -50%) rotate( 4deg) translateX( 2px); }
  75%        { transform: translate(-50%, -50%) rotate(-2deg) translateX(-1px); }
}

@keyframes badge-pop {
  from { transform: scale(0) rotate(-20deg); opacity: 0; }
  to   { transform: scale(1) rotate(0deg);   opacity: 1; }
}